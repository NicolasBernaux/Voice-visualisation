function audio_recording(){navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,navigator.getUserMedia?navigator.getUserMedia({audio:!0},function(e){var a=document.querySelectorAll(".line"),r=new AudioContext;analyser=r.createAnalyser(),microphone=r.createMediaStreamSource(e),javascriptNode=r.createScriptProcessor(2048,1,1),analyser.smoothingTimeConstant=.8,analyser.fftSize=1024,microphone.connect(analyser),analyser.connect(javascriptNode),javascriptNode.connect(r.destination),javascriptNode.onaudioprocess=function(){var e=new Uint8Array(analyser.frequencyBinCount);analyser.getByteFrequencyData(e);for(var r=0,t=e.length,n=0;n<t;n++)r+=e[n];for(var n=0;n<=a.length/2;n++)average=r/t/(6*n+8*Math.random()+50)-.25,average>.01?(a[a.length/2-n].style.transform="translate(-50%,-50%) scaleY("+average+")",a[a.length/2+n-1].style.transform="translate(-50%,-50%) scaleY("+average+")"):(a[a.length/2-n].style.transform="translate(-50%,-50%) scaleY(0.01)",a[a.length/2+n-1].style.transform="translate(-50%,-50%) scaleY(0.01)")}},function(e){console.log("The following error occured: "+e.name)}):console.log("getUserMedia not supported")}audio_recording();
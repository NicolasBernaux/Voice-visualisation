function validation_name(e){var a=document.querySelector("input");name=a.value,document.querySelector("form").style.display="none",document.querySelector(".audio").style.display="block",e.preventDefault,audio_recording()}function audio_recording(){document.querySelector(".text").innerHTML=name,navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia,navigator.getUserMedia?navigator.getUserMedia({audio:!0},function(e){var a=document.querySelectorAll(".line"),n=new AudioContext;analyser=n.createAnalyser(),microphone=n.createMediaStreamSource(e),javascriptNode=n.createScriptProcessor(2048,1,1),analyser.smoothingTimeConstant=.8,analyser.fftSize=1024,microphone.connect(analyser),analyser.connect(javascriptNode),javascriptNode.connect(n.destination),javascriptNode.onaudioprocess=function(){var e=new Uint8Array(analyser.frequencyBinCount);analyser.getByteFrequencyData(e);for(var n=0,t=e.length,r=0;r<t;r++)n+=e[r];for(var r=0;r<=a.length/2;r++)average=n/t/(50+(6*r+8*Math.random()))-.25,average>.01?(a[a.length/2-r].style.transform="translate(-50%,-50%) scaleY("+average+")",a[a.length/2+r-1].style.transform="translate(-50%,-50%) scaleY("+average+")"):(a[a.length/2-r].style.transform="translate(-50%,-50%) scaleY(0.01)",a[a.length/2+r-1].style.transform="translate(-50%,-50%) scaleY(0.01)")}},function(e){console.log("The following error occured: "+e.name)}):console.log("getUserMedia not supported")}var name;document.querySelector(".button").addEventListener("click",function(e){validation_name(e)}),window.addEventListener("keydown",function(e){13==e.keyCode&&validation_name(e)});